# 汽车配件库存管理系统 - 开发清单

## 数据库设计
- [x] 设计配件表（parts）
- [x] 设计供应商表（suppliers）
- [x] 设计客户表（customers）
- [x] 设计采购订单表（purchase_orders）
- [x] 设计采购订单明细表（purchase_order_items）
- [x] 设计销售发票表（sales_invoices）
- [x] 设计销售发票明细表（sales_invoice_items）
- [x] 设计库存分类账表（inventory_ledger）
- [x] 设计配件分类表（part_categories）
- [x] 推送数据库迁移

## 视觉风格配置
- [x] 配置赛博朋克主题色彩（霜虹粉/电子青/深黑）
- [x] 引入几何无衬线字体（Orbitron/Rajdhani）
- [x] 创建HUD风格的UI组件
- [x] 配置霜虹发光效果CSS
- [x] 创建Dashboard布局组件

## 核心数据管理模块
- [x] 配件管理：列表、添加、编辑、删除、搜索
- [x] 供应商管理：列表、添加、编辑、删除、搜索
- [x] 客户管理：列表、添加、编辑、删除、搜索
- [x] 配件分类管理

## 业务流程模块
- [x] 采购订单：创建订单、订单列表、订单详情、入库操作
- [x] 销售发票：创建发票、发票列表、发票详情、出库操作
- [x] 库存分类账：记录所有库存变动、查询历史记录

## 库存预警功能
- [x] 设置配件最低库存阈值
- [x] 低库存自动检测
- [x] 应用内消息通知
- [ ] 邮件通知功能

## 数据统计仪表盘
- [x] 库存概览卡片
- [ ] 销售趋势图表（折线图）
- [ ] 采购统计图表（柱状图）
- [ ] 配件分类分布（饼图）
- [x] 低库存预警列表
- [ ] 应付/应收账款统计

## 报表导出功能
- [ ] 库存报表导出（Excel/PDF）
- [ ] 销售报表导出（Excel/PDF）
- [ ] 采购报表导出（Excel/PDF）

## 智能补货建议
- [x] 集成LLM分析历史数据
- [x] 生成智能补货建议
- [x] 展示补货建议列表

## 测试和优化
- [x] 编写核心功能单元测试
- [x] 测试所有业务流程
- [x] 性能优化
- [x] 响应式布局优化

## Bug修复
- [x] 修复添加配件功能的错误

## 新需求和Bug修复
- [x] 检查SKU删除功能（代码实现正确）
- [x] 将视觉风格从赛博朋克改为传统ERP界面风格（灰白色调、工具栏、标签页布局）

## 删除配件外键约束错误修复
- [x] 检查数据库外键关系
- [x] 修改删除逻辑，先检查是否被引用
- [x] 添加级联删除或阻止删除的提示

## 管理员强制删除配件功能
- [x] 在db.ts中添加forceDeletePart函数，删除配件及所有相关记录
- [x] 在routers.ts中添加forceDelete API端点，仅管理员可用
- [x] 在Parts.tsx中添加二次确认对话框
- [x] 测试强制删除功能

## 仪表盘快速操作404错误修复
- [x] 检查Dashboard.tsx中的快速操作按钮路由
- [x] 检查App.tsx中的路由配置
- [x] 修复路由跳转问题
